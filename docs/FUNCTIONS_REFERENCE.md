# Functions Reference

| Function                             | Purpose                                                                                      | Parameters                                                                             | Returns         | Used In                               |
| ------------------------------------ | -------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------- | --------------- | ------------------------------------- |
| `addCardToBucket(card, containerId)` | Append a user card to either the Completed or Failed bucket and manage scroll/jump behavior. | `card` _(HTMLElement)_ – rendered card; `containerId` _(string)_ – target container ID | `void`          | `static/submit.js`, `static/retry.js` |
| `fetchUserCard(id)`                  | Fetch a single user card from the server and append it to the correct bucket.                | `id` _(string)_ – Steam identifier                                                     | `Promise<void>` | `static/submit.js`                    |
| `handleSubmit(e)`                    | Process form submission and launch parallel scans.                                           | `e` _(SubmitEvent)_ – form event                                                       | `void`          | `static/submit.js`                    |
| `retryInventory(id)`                 | Retry a failed scan and append the updated card to the proper bucket.                        | `id` _(string)_ – Steam identifier                                                     | `Promise<void>` | `static/retry.js`                     |
| `refreshAll()`                       | Batch retry all failed scans with progress feedback.                                         | –                                                                                      | `Promise<void>` | `static/retry.js`                     |
| `attachItemModal()`                  | Attach modal click handlers to item cards in both buckets.                                   | –                                                                                      | `void`          | `static/retry.js`                     |
| `attachHandlers()`                   | Attach retry and modal handlers to current cards.                                            | –                                                                                      | `void`          | `static/retry.js`                     |
| `applyDensity(card, mode)`           | Toggle compact density on a user card.                                                       | `card` _(HTMLElement)_; `mode` _(string)_                                              | `void`          | `static/ui.js`                        |
| `applyQuality(card, mode)`           | Toggle quality color mode.                                                                   | `card` _(HTMLElement)_; `mode` _(string)_                                              | `void`          | `static/ui.js`                        |
| `applyHighValue(card, on)`           | Enable or disable high-value highlighting.                                                   | `card` _(HTMLElement)_; `on` _(boolean)_                                               | `void`          | `static/ui.js`                        |
| `filterItems(card, filter, query)`   | Filter items by type and search query.                                                       | `card` _(HTMLElement)_; `filter` _(string)_; `query` _(string)_                        | `void`          | `static/ui.js`                        |
| `initCardBehavior(card)`             | Restore preferences and bind UI handlers for a card.                                         | `card` _(HTMLElement)_                                                                 | `void`          | `static/ui.js`                        |
| `attachUI()`                         | Initialize UI features on uninitialized user cards.                                          | –                                                                                      | `void`          | `static/ui.js`                        |
| `runAttach()`                        | Entry point to bind UI features on load and updates.                                         | –                                                                                      | `void`          | `static/ui.js`                        |
