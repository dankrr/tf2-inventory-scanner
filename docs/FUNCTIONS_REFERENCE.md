# Functions Reference

| Function                             | Purpose                                                                                      | Parameters                                                                             | Returns         | Used In                               |
| ------------------------------------ | -------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------- | --------------- | ------------------------------------- |
| `addCardToBucket(card, containerId)` | Append a user card to either the Completed or Failed bucket and manage scroll/jump behavior. | `card` _(HTMLElement)_ – rendered card; `containerId` _(string)_ – target container ID | `void`          | `static/submit.js`, `static/retry.js` |
| `fetchUserCard(id)`                  | Fetch a single user card from the server and append it to the correct bucket.                | `id` _(string)_ – Steam identifier                                                     | `Promise<void>` | `static/submit.js`                    |
| `handleSubmit(e)`                    | Process form submission and launch parallel scans.                                           | `e` _(SubmitEvent)_ – form event                                                       | `void`          | `static/submit.js`                    |
| `retryInventory(id)`                 | Retry a failed scan and append the updated card to the proper bucket.                        | `id` _(string)_ – Steam identifier                                                     | `Promise<void>` | `static/retry.js`                     |
| `refreshAll()`                       | Batch retry all failed scans with progress feedback.                                         | –                                                                                      | `Promise<void>` | `static/retry.js`                     |
| `attachItemModal()`                  | Attach modal click handlers to item cards in both buckets.                                   | –                                                                                      | `void`          | `static/retry.js`                     |
| `applyStoredPreferences()`           | Load and apply saved UI display preferences.                                                 | –                                                                                      | `void`          | `static/ui.js`                        |
| `updateToggleButtons()`              | Reflect active UI modes on global toggle buttons.                                            | –                                                                                      | `void`          | `static/ui.js`                        |
| `toggleCompactMode()`                | Toggle compact density mode and persist preference.                                          | –                                                                                      | `void`          | `static/ui.js`                        |
| `toggleBorderMode()`                 | Toggle border-only quality mode and persist preference.                                      | –                                                                                      | `void`          | `static/ui.js`                        |
| `handleUserSearch(event)`            | Filter a user's items by name from the search box.                                           | `event` _(Event)_ – input event from search box                                        | `void`          | `static/ui.js`                        |
| `attachUserFeatures()`               | Bind search handlers to user cards; used after DOM updates.                                  | –                                                                                      | `void`          | `static/ui.js`                        |
| `initUI()`                           | Initialize global toggles and per-user search on page load.                                  | –                                                                                      | `void`          | `static/ui.js`                        |
