# Functions Reference

| Function                             | Purpose                                                                       | Parameters                                                      | Returns         | Used In                               |
| ------------------------------------ | ----------------------------------------------------------------------------- | --------------------------------------------------------------- | --------------- | ------------------------------------- |
| `addCardToBucket(card, containerId)` | Append a user card to the appropriate bucket and manage scroll/jump behavior. | `card` _(HTMLElement)_; `containerId` _(string)_                | `void`          | `static/submit.js`, `static/retry.js` |
| `fetchUserCard(id)`                  | Fetch a single user card from the server and append it.                       | `id` _(string)_                                                 | `Promise<void>` | `static/submit.js`                    |
| `handleSubmit(e)`                    | Process form submission and launch scans.                                     | `e` _(SubmitEvent)_                                             | `void`          | `static/submit.js`                    |
| `retryInventory(id)`                 | Retry a failed scan and append the updated card.                              | `id` _(string)_                                                 | `Promise<void>` | `static/retry.js`                     |
| `refreshAll()`                       | Batch retry all failed scans with progress feedback.                          | –                                                               | `Promise<void>` | `static/retry.js`                     |
| `attachItemModal()`                  | Attach modal click handlers to item cards.                                    | –                                                               | `void`          | `static/retry.js`                     |
| `attachHandlers()`                   | Attach retry and modal handlers to current cards.                             | –                                                               | `void`          | `static/retry.js`                     |
| `applyDensity(card, mode)`           | Toggle compact density on a user card.                                        | `card` _(HTMLElement)_; `mode` _(string)_                       | `void`          | `static/ui.js`                        |
| `applyQuality(card, mode)`           | Toggle quality color mode.                                                    | `card` _(HTMLElement)_; `mode` _(string)_                       | `void`          | `static/ui.js`                        |
| `filterItems(card, filter, query)`   | Filter item wrappers by type and search query.                                | `card` _(HTMLElement)_; `filter` _(string)_; `query` _(string)_ | `void`          | `static/ui.js`                        |
| `initCardBehavior(card)`             | Bind search and filter controls for a user card.                              | `card` _(HTMLElement)_                                          | `void`          | `static/ui.js`                        |
| `applyDensityAll(mode)`              | Apply density mode to all user cards.                                         | `mode` _(string)_                                               | `void`          | `static/ui.js`                        |
| `applyQualityAll(mode)`              | Apply quality color mode to all user cards.                                   | `mode` _(string)_                                               | `void`          | `static/ui.js`                        |
| `initGlobalToggles()`                | Initialize global density and quality buttons.                                | –                                                               | `void`          | `static/ui.js`                        |
| `attachUI()`                         | Initialize UI features on uninitialized user cards.                           | –                                                               | `void`          | `static/ui.js`                        |
| `reapplyFilters()`                   | Reapply saved filters and search queries to all user cards.                   | –                                                               | `void`          | `static/ui.js`                        |
