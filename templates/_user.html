<div id="user-{{ user.steamid }}" class="user-card">
  <h2>
    <a href="{{ user.profile }}" target="_blank">
      <img src="{{ user.avatar }}" width="64" style="vertical-align: middle; border-radius: 8px;">
    </a>
    {{ user.username }}
    <span class="tf2-hours">TF2 Playtime: {{ user.playtime }} hrs</span>
    <span class="pill status-pill {{ user.status }}{% if user.status == 'failed' %} retry-pill{% endif %}" {% if user.status == 'failed' %}data-steamid="{{ user.steamid }}" title="Retry scan for this user"{% endif %}>
      {% if user.status == 'parsed' %}
        <i class="fa-solid fa-check"></i> Public
      {% elif user.status == 'private' %}
        <i class="fa-solid fa-lock"></i> Private
      {% else %}
        <i class="fa-solid fa-arrows-rotate"></i> Failed
      {% endif %}
    </span>
  </h2>
  <div class="card-body">
    {% if user.status == 'incomplete' %}
      <span class="badge bg-warning text-dark">Fetched but unparsed</span>
    {% elif user.status == 'private' %}
      <span class="badge bg-secondary">Private</span>
    {% endif %}
    <div class="inventory-scroll">
      <button class="scroll-arrow left" type="button" aria-label="Scroll left">
        <i class="fa-solid fa-chevron-left"></i>
      </button>
      <div class="inventory-container">
        {% for item in user.items %}
          {# â†‘ keep border-color for quality #}
          <div class="item-card"
               style="border-color: {{ item.quality_color }};"
               data-item='{{ item|tojson|safe }}'>

            {# badge bar (bottom-right) #}
            {% if item.badges %}
            <div class="item-badges">
              {% for badge in item.badges %}

<span class="badge"

{% if badge.color %} style="color:{{ badge.color }}"{% endif %}

title="{{ badge.title }}">{{ badge.icon }}</span>


<span class="badge"

{% if badge.color %} style="color:{{ badge.color }}"{% endif %}

title="{{ badge.title }}">{{ badge.icon }}</span>
              {% endfor %}
            </div>
            {% endif %}
            {% if item.image_url %}
              <img class="item-img" src="{{ item.image_url }}" alt="{{ item.name }}" width="64" height="64" onerror="this.style.display='none';">
            {% else %}
              <div class="missing-icon"></div>
            {% endif %}
              <div class="item-name">{{ item.name }}</div>

<div class="item-details">
     {% if item.custom_name %}<div class="custom-name">"{{ item.custom_name }}"</div>{% endif %}
     {% if item.custom_desc %}<div class="custom-desc">{{ item.custom_desc }}</div>{% endif %}
     {% if item.level %}<div class="item-level">Level {{ item.level }}</div>{% endif %}
     {% if item.paint %}<div class="item-paint">Painted: {{ item.paint }}</div>{% endif %}

{% if item.paintkit %}<div class="item-paintkit">War Paint: {{ item.paintkit }}{% if item.wear %} ({{ item.wear }}){% endif %}</div>{% endif %}

{% if item.unusual_effect %}<div class="item-effect">Effect: {{ item.unusual_effect }}</div>{% endif %}

{% if item.killstreak_tier %}<div class="item-ks">Killstreak: {{ item.killstreak_tier }}</div>{% endif %}

{% if item.sheen %}<div class="item-sheen">Sheen: {{ item.sheen }}</div>{% endif %}

{% if item.killstreaker %}<div class="item-ks-effect">Killstreaker: {{ item.killstreaker }}</div>{% endif %}

{% if item.strange_parts and item.strange_parts|length > 0 %}

<div class="item-parts">

Strange Parts:

<ul>

{% for part in item.strange_parts %}

<li>{{ part }}</li>

{% endfor %}

</ul>

</div>

{% endif %}

{% if item.spells and item.spells|length > 0 %}

<div class="item-spells">Spells: {{ item.spells | join(", ") }}</div>

{% endif %}
 </div>
          </div>
        {% endfor %}
      </div>
      <button class="scroll-arrow right" type="button" aria-label="Scroll right">
        <i class="fa-solid fa-chevron-right"></i>
      </button>
    </div>
  </div>
</div>
