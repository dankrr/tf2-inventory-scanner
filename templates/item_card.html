<div class="item-card"
     style="border-color: {{ item.quality_color }};"
     data-item='{{ item|tojson|safe }}'>
  <div class="item-badges">
    {% if item.paint_hex %}
      <span class="paint-dot" style="background-color: {{ item.paint_hex }};" title="Paint: {{ item.paint_name }}"></span>
    {% endif %}
      {% for badge in item.badges %}
        {% if badge.icon != '🎨' %}
          <span class="badge" data-icon="{{ badge.icon }}"{% if badge.color %} style="color:{{ badge.color }}"{% endif %} title="{{ badge.title }}">{{ badge.icon }}</span>
        {% endif %}
      {% endfor %}
    {% if "🔧" in item.badges %}
      <span class="badge bg-indigo-600" title="Contains Strange Parts">🔧</span>
    {% endif %}
  </div>
  {% if item.quantity and item.quantity > 1 %}
    <span class="item-qty">x{{ item.quantity }}</span>
  {% endif %}
  {% if item.image_url %}
    <img class="item-img" src="{{ item.image_url }}" alt="{{ item.name }}" width="64" height="64" onerror="this.style.display='none';">
  {% else %}
    <div class="missing-icon"></div>
  {% endif %}
  <div class="item-title">
    {% if item.unusual_effect %}
      <span class="unusual-effect">{{ item.unusual_effect.name }}</span>
    {% endif %}
    {{ item.name }}
  </div>
  {% if item.strange_parts %}
    <ul class="text-xs mt-1 text-gray-300">
      {% for part in item.strange_parts %}
        <li>🛠️ {{ part }}</li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
