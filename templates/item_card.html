<div class="item-card"
     style="border-color: {{ item.quality_color }};"
     data-item='{{ item|tojson|safe }}'>
  <div class="item-badges">
    {% if item.paint_hex %}
      <span class="paint-dot" style="background-color: {{ item.paint_hex }};" title="Paint: {{ item.paint_name }}"></span>
    {% endif %}
      {% for badge in item.badges %}
        {% if badge.icon != '🎨' %}
          <span class="badge" data-icon="{{ badge.icon }}"{% if badge.color %} style="color:{{ badge.color }}"{% endif %} title="{{ badge.title }}">{{ badge.icon }}</span>
        {% endif %}
      {% endfor %}
  </div>
  {% if item.quantity and item.quantity > 1 %}
    <span class="item-qty">x{{ item.quantity }}</span>
  {% endif %}
  {% if item.image_url %}
    <img class="item-img" src="{{ item.image_url }}" alt="{{ item.display_name }}" width="64" height="64" onerror="this.style.display='none';">
  {% else %}
    <div class="missing-icon"></div>
  {% endif %}
  {% set title_parts = [] %}
  {% if item.killstreak_name %}
    {% if item.killstreak_name == 'Killstreak' %}
      {% set _ = title_parts.append('Killstreak') %}
    {% else %}
      {% set _ = title_parts.append(item.killstreak_name) %}
      {% set _ = title_parts.append('Killstreak') %}
    {% endif %}
  {% endif %}
  {% set quality = item.quality %}
  {% if item.strange or quality == 'Strange' %}
    {% set _ = title_parts.append('Strange') %}
  {% elif quality and quality not in ('Unique', 'Normal') %}
    {% set _ = title_parts.append(quality) %}
  {% endif %}
  {% set base = item.base_name or item.display_name or item.name %}
  {% set _ = title_parts.append(base) %}
  <h2 class="item-title">{{ title_parts | join(' ') }}</h2>
</div>
